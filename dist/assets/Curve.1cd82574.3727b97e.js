import{J as h,p as l,K as f,A as b,V as v,_ as m,Q as n,R as w,z as u,o as A,r as g,k as i}from"./index.66975801.js";var y=Object.defineProperty,P=(e,t,s)=>t in e?y(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s,a=(e,t,s)=>(P(e,typeof t!="symbol"?t+"":t,s),s);const r=50,p=new WeakMap,c=class extends h{constructor(){super(),a(this,"bufferAttribute",new l(new Float32Array(r*3),3)),a(this,"curve",new f([],void 0,"catmullrom",.5));const e=new b;e.setAttribute("position",this.bufferAttribute);const t=new v({color:16711680,opacity:.35}),s=new m(e,t);n.add(s),this.then(()=>{e.dispose(),t.dispose(),n.remove(s)})}update(){c.update(this,this)}get points(){return this.curve.points.map(w)}set points(e){this.curve.points=e.map(u),this.update()}addPoint(e){const t=u(e);this.curve.points.push(t),p.set(e,t),this.update()}removePoint(e){const t=p.get(e);!t||(A(this.curve.points,t),this.update())}};let k=c;a(k,"update",g(e=>{const{bufferAttribute:t,curve:s}=e;if(t.needsUpdate=!0,s.points.length<2){for(let o=0;o<r;++o)t.setXYZ(o,0,0,0);return}for(let o=0;o<r;++o){const d=o/(r-1);s.getPoint(d,i),t.setXYZ(o,i.x,i.y,i.z)}},0,"trailing"));export{k as default};
